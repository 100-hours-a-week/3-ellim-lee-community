<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>API 개별 동작 테스트</title>
</head>
<body>
    <h1>🚀 API 개별 테스트 페이지</h1>
    <p>각 버튼을 눌러 콘솔(F12)에 결과를 확인하세요.</p>

    <button id="signupBtn">회원가입</button>
    <button id="signinBtn">로그인</button>
    <button id="meBtn">내 정보 조회</button>
    <button id="updateBtn">프로필 수정</button>
    <button id="getPostsBtn">게시글 목록</button>
    <button id="createPostBtn">게시글 작성</button>
    <button id="getPostBtn">게시글 상세조회</button>
    <button id="uploadBtn">이미지 업로드</button>
    <button id="signoutBtn">로그아웃</button>

    <script type="module">
        import { UserAPI } from '../../public/js/api/users.js';
        import { PostAPI } from '../../public/js/api/posts.js';
        import { ImageAPI } from '../../public/js/api/images.js';

        const log = (msg, data) => console.log(`✅ ${msg}:`, data);

        document.getElementById('signupBtn').addEventListener('click', async () => {
            console.log('회원가입 요청 중...');
            const res = await UserAPI.signup(
            'test@example.com',
            '1234',
            '1234',
            '테스트유저'
            );
            log('회원가입 응답', res);
        });

        document.getElementById('signinBtn').addEventListener('click', async () => {
            console.log('로그인 요청 중...');
            const res = await UserAPI.signin('test@example.com', '1234');
            log('로그인 응답', res);
        });

        document.getElementById('meBtn').addEventListener('click', async () => {
            console.log('내 정보 요청 중...');
            const res = await UserAPI.getCurrentUser();
            log('내 정보 응답', res);
        });

        document.getElementById('updateBtn').addEventListener('click', async () => {
            console.log('프로필 수정 요청 중...');
            const res = await UserAPI.up
            log('프로필 수정 응답', res);
        });

        document.getElementById('getPostsBtn').addEventListener('click', async () => {
            console.log('게시글 목록 요청 중...');
            const res = await PostAPI.getPosts();
            log('게시글 목록 응답', res);
        });

        document.getElementById('createPostBtn').addEventListener('click', async () => {
            console.log('게시글 작성 요청 중...');
            const res = await PostAPI.createPost({
                title: '테스트 게시글',
                content: '이건 테스트입니다.',
            });
            log('게시글 작성 응답', res);
        });

        document.getElementById('getPostBtn').addEventListener('click', async () => {
            console.log('게시글 상세 요청 중...');
            const res = await PostAPI.getPostById(1); // id는 실제 존재하는 값으로 변경
            log('게시글 상세 응답', res);
        });

        document.getElementById('uploadBtn').addEventListener('click', async () => {
            console.log('이미지 업로드 요청 중...');
            const dummyFile = new File(['hello'], 'test.png', { type: 'image/png' });
            const res = await ImageAPI.uploadProfileImage(dummyFile);
            log('이미지 업로드 응답', res);
        });

        document.getElementById('signoutBtn').addEventListener('click', async () => {
            console.log('로그아웃 요청 중...');
            const res = await UserAPI.signout();
            log('로그아웃 응답', res);
        });
    </script>
</body>
</html>
